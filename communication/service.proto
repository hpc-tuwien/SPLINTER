syntax = "proto3";

service SplitService {
  rpc SplitCompute (SplitRequest) returns (SplitResponse);
}

enum Network {
  VGG16 = 0;
  RESNET50 = 1;
  MOBILENETV2 = 2;
}

message SplitRequest {
  Network network = 1;
  uint32 partition_index = 2;
  bytes tensor = 3;
  optional sint32 zero_point = 4;
  optional float scale = 5;
  bool accelerator = 6;
}

message SplitResponse {
  repeated string classes = 1;
  // 32 bit yields max 4 seconds
  uint64 server_time = 2;
}
